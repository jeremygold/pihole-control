<!DOCTYPE html>
<html>
		<head>
				<title>Pihole Control</title>
				<link rel="stylesheet" href="https://bootswatch.com/slate/bootstrap.min.css">
				<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
				<meta name="viewport" content="user-scalable=no, width=device-width">
				<style type="text/css">
				table { 
						border: 2px solid black; 
				} 
				th, td { 
						padding: 10px; 
				}
				.alert-enabled { 
						background-color: #dff0d8;
						border-color: #468847;
						color: #468847;
				}
				.alert-disabled { 
						background-color: #f2dede;
						border-color: #b94a48;
						color: #b94a48;
				}
				</style>
		</head>
		<body>
				<div class="jumbotron">
						<h1 align="center">Pihole Control</h1>
						<table align="center" style="width:90%;">
								<tr>
										<td><button class="btn btn-primary btn-lg" type="button" style="width:100%;" onclick="enable();">ENABLE PIHOLE</button></td>
								</tr>
								<tr>
										<td><button class="btn btn-primary btn-lg" type="button" style="width:100%;" onclick="disable();">DISABLE PIHOLE</button></td>
								</tr>
								<tr>
										<td>
												<div class="container" align="center" style="width:100%;" border="1">
														<div class="alert alert-enabled" id="status-alert">
																<h3 id="status">Status</h3>
														</div>
												</div>
										</td>
								</tr>
						</table>
				</div>
				<script>
function setStatus(status) {
		$('#status').html("STATUS: " + status.toUpperCase());
		if(status === "Enabled") {
				$('#status-alert').addClass('alert-enabled').removeClass('alert-disabled');
		} else {
				$('#status-alert').addClass('alert-disabled').removeClass('alert-enabled');
		}
}

$( document ).ready(function() {
		$.get("/status", function(data) {
				console.log("Current Status: " + data);
				setStatus(data);
		});
});

function disable() {
		$.get("/control/disable", function(status) {
				setStatus(status);
		});
}

function enable() {
		$.get("/control/enable", function(status) {
				setStatus(status);
		});
}
				</script>
		</body>
</html>
